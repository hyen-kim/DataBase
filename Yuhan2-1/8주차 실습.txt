
==============================================================================

8주차 : DDL

==============================================================================

< DDL > 
- 데이터 정의어
- 객체를 생성하고, 변경, 삭제하기 위해 사용
- CREATE, ALTER, DROR

* 객체의 종류
- 테이블 : 가장 기본적인 구조, 데이터를 저장하기 위한 객체
- 뷰 
- 인덱스
- 시퀀스
- 시노님



1. 테이블 (TABLE)
- CREATE 문은 테이블을 구성하고, 속성과 속성에 관한 제약 그리고 기본키 및 외래키를 정의
- 테이블을 생성하기 위해서는 테이블 생성 권한이 있어야하며, 동일한 데이터베이스에 있어야함

(1) 구문
CREATE TABLE 테이블명
(칼럼명 데이터타입);


(2) 테이블명과 칼럼명, 제약조건명을 정의하기 위한 규칙
- 문자로 시작
- 최대 30자까지
- 문자(A-Z, a-z), 숫자(0-9), 특수기호(_,$,#), 한글, 대소문자를 구분하지 않음
- 다른 객체의 이름과 중복되지 않도록 함
	-> 테이블명이 a인데 칼람명이 a인 경우
- 예약어의 사용은 불가능
- 공백 사용 불가능


(3) 오라클의 데이터 타입 
① 숫자 데이터
- 정수나, 실수 (NUMBER(p,s)

② 문자 데이터
- CHAR(n)	: 2000자의 고정 길이 문자열	
- VARCHAR2(n)	: 4000자의 가변 길이 문자열

③ 날짜 데이터
- DATE


(4) 기본적인 테이블 생성
① 구문
CREATE TABLE 테이블명
(칼럼명 datatype [, 칼럼명 datatype, ...]);


(5)제약조건을 포함한 테이블 생성
① 데이터 무결성 제약조건 개념
- 유효하지 않은 붲ㄱ절한 데이터가 입력되는 것을 방지
- 각 칼럼에 대해 정의하는 규칙
- 새로운 데이터가 삽입되거나 기존 데이터가 수정, 삭제될 때 적용

② 제약조건 유형
- NOT NULL		NN
- UNIQUE		UK
- PRIMARY KEY		PK
- FOREIGN KEY		FK
- CHECK			CK
 
a. NOT NULL	
- NULL 값이 입력되는 것을 허용하지 않음

b. UNIQUE
- 입력되는 값이 중복되는 것을 허용하지 않음

c. PRIMARY KEY
- 기본키를 생성
- 유일하게 식별할 수 있는 칼럼
- NOT NULL, UNIOUE 제약조건 포함

d. FOREIGN KEY
- 외래키를 생성
- 자식테이블은 참조하는 테이블, 부모테이블은 참조당하는 테이블
- 데이터의 삭제나 변경 시에 제한을 받음

e. CHECK
- 설정된 값 이외의 값이 입력되면 오류 메시지와 함께 명령이 수행되지 않음


< 칼럼 레벨 방법 >
- 각 칼럼을 정의할 때 제약조건도 같이 설정
- 칼럼의 제약조건이 끝나기 전까지 콤마를 사용하지 않음

* PRIMARY KEY, NOT NULL, UNIQUE 제약조건 생성 구문
칼람명 데이터타입 CONSTRAINT 제약조건명 제약조건유형, 
...

* CHECK 제약조건 생성 구문
CONSTRAINT 제약조건명 CHECK(칼럼명 IN(값, 값, 값, ...))

* FOREIGN KEY 제약조건 생성 구문
CONSTRAINT 제약조건명 REFERENCES 테이블명(칼럼명)


< 테이블 레벨 방법 >
- 동시에 제약조건의 설정이 가능
- NOT NULL을 제외한 어떤 제약조건 유형의 정의도 가능

* PREIMARY KEY, UNIQUE 제약조건 생성 구문
칼럼명 데이터타입,
칼럼명 데이터타입,
CONSTRAINT 제약조건명 제약조건유형(칼럼명, ...),

* CHECK 제약조건 생성 구문
CONSTRAINT 제약조건명 CHECK(칼럼명 IN(값, 값, ...))

* FOREIGN KEY 제약조건 생성 구문
CONSTRAINT 제약조건명 FOREIGN KEY(칼럼명1)
	REFERENCES 테이블명(칼럼명2)



< 테이블 생성 >
- 테이블 챠트를 먼저 작성, 테이블을 생성
- 칼럼 레벨과 테이블 레벨을 혼합하여 생성
- NOT NULL은 반드시 칼럼 레벨
- 한 개의 칼럼에만 적용되는 제약조건은 칼럼 레벨
- 여러 개의 칼럼에 적용되는 제약조건은 테이블 레벨


